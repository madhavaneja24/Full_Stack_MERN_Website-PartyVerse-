{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\madha\\\\OneDrive\\\\Desktop\\\\Projects\\\\the_party_shop\\\\client\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport API from '../api';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n  const [cart, setCart] = useState(null);\n  const token = localStorage.getItem('token');\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (token) {\n      API.get('/cart', {\n        headers: {\n          Authorization: 'Bearer ' + token\n        }\n      }).then(r => setCart(r.data)).catch(e => console.error(e));\n    }\n  }, [token]);\n  const updateQty = async (productId, qty) => {\n    await API.post('/cart/add', {\n      productId,\n      qty\n    }, {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    });\n    const r = await API.get('/cart', {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    });\n    setCart(r.data);\n  };\n  if (!token) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 bg-white rounded\",\n    children: \"Please login to view cart\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 21\n  }, this);\n  if (!cart) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading cart...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 20\n  }, this);\n  const items = cart.items.filter(i => i && i.product); // safeguard\n  const subtotal = items.reduce((s, it) => s + it.product.price * it.qty, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full bg-white rounded shadow p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-semibold mb-4\",\n      children: \"Your Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [items.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"Cart is empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 30\n      }, this), items.map(it => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"flex items-center gap-4 py-3 border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: it.product.image,\n          style: {\n            width: 80,\n            height: 80,\n            objectFit: 'contain'\n          },\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: it.product.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: [\"\\u20B9\", it.product.price.toFixed(0)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"border rounded p-1 w-20\",\n            value: it.qty,\n            onChange: e => updateQty(it.product._id, Number(e.target.value))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }, this)]\n      }, it.product._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg font-semibold\",\n        children: [\"Subtotal: \\u20B9\", subtotal.toFixed(0)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/checkout'),\n        className: \"bg-green-600 text-white px-4 py-2 rounded\",\n        children: \"Proceed to Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"LcqwfmNJaIShFg2L1yHKylbv7CI=\", false, function () {\n  return [useNavigate];\n});\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useEffect","useState","API","useNavigate","jsxDEV","_jsxDEV","Cart","_s","cart","setCart","token","localStorage","getItem","navigate","get","headers","Authorization","then","r","data","catch","e","console","error","updateQty","productId","qty","post","className","children","fileName","_jsxFileName","lineNumber","columnNumber","items","filter","i","product","subtotal","reduce","s","it","price","length","map","src","image","style","width","height","objectFit","alt","title","toFixed","type","value","onChange","_id","Number","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/madha/OneDrive/Desktop/Projects/the_party_shop/client/src/pages/Cart.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport API from '../api';\nimport { useNavigate } from 'react-router-dom';\nexport default function Cart(){\n  const [cart, setCart] = useState(null);\n  const token = localStorage.getItem('token');\n  const navigate = useNavigate();\n  useEffect(()=>{ if(token){ API.get('/cart', {headers:{Authorization:'Bearer '+token}}).then(r=>setCart(r.data)).catch(e=>console.error(e)); } },[token]);\n\n  const updateQty = async (productId, qty)=> {\n    await API.post('/cart/add', {productId, qty}, {headers:{Authorization:'Bearer '+token}});\n    const r = await API.get('/cart', {headers:{Authorization:'Bearer '+token}});\n    setCart(r.data);\n  };\n\n  if(!token) return <div className=\"p-6 bg-white rounded\">Please login to view cart</div>;\n  if(!cart) return <div>Loading cart...</div>;\n\n  const items = cart.items.filter(i => i && i.product); // safeguard\n  const subtotal = items.reduce((s,it)=>s + (it.product.price * it.qty), 0);\n\n  return (\n    <div className=\"w-full bg-white rounded shadow p-6\">\n      <h2 className=\"text-xl font-semibold mb-4\">Your Cart</h2>\n      <ul>\n        {items.length===0 && <li>Cart is empty</li>}\n        {items.map(it=>(\n          <li key={it.product._id} className=\"flex items-center gap-4 py-3 border-b\">\n            <img src={it.product.image} style={{width:80,height:80,objectFit:'contain'}} alt=\"\"/>\n            <div className=\"flex-1\">\n              <strong>{it.product.title}</strong>\n              <div className=\"text-sm text-gray-500\">₹{it.product.price.toFixed(0)}</div>\n            </div>\n            <div>\n              <input type=\"number\" className=\"border rounded p-1 w-20\" value={it.qty} onChange={(e)=>updateQty(it.product._id, Number(e.target.value))} />\n            </div>\n          </li>\n        ))}\n      </ul>\n      <div className=\"mt-4 flex justify-between items-center\">\n        <div className=\"text-lg font-semibold\">Subtotal: ₹{subtotal.toFixed(0)}</div>\n        <button onClick={()=>navigate('/checkout')} className=\"bg-green-600 text-white px-4 py-2 rounded\">Proceed to Checkout</button>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}